(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports={point:"RoutePoint_point__1S96j",deleteImg:"RoutePoint_deleteImg__2cBCy"}},3:function(e,t,n){e.exports={routeFooter:"RouteFooter_routeFooter__1ZpuP",pointsLength:"RouteFooter_pointsLength__3ovkC",pointsNotLength:"RouteFooter_pointsNotLength__33rdJ",clearCompleted:"RouteFooter_clearCompleted__1CUrQ",clearCompletedDisabled:"RouteFooter_clearCompletedDisabled__3OH-c"}},38:function(e,t,n){e.exports={list:"RouteList_list__3I5Iy"}},39:function(e,t,n){e.exports={pointsList:"PointsList_pointsList__26dkI"}},45:function(e,t,n){e.exports={containerMap:"MapComponent_containerMap__33yy0"}},46:function(e,t,n){e.exports={main:"Main_main__AYp-N"}},51:function(e,t,n){e.exports=n(95)},56:function(e,t,n){},7:function(e,t,n){e.exports={wrapper:"RoutePointCreater_wrapper__2q9Ab",input:"RoutePointCreater_input__2ucDW",button:"RoutePointCreater_button__3g3vV",buttonDisabled:"RoutePointCreater_buttonDisabled__iMJ6-"}},95:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(12),r=n.n(i),l=(n(56),n(47)),c=n(35),s=n(36),u=n(49),p=n(37),d=n(50),m=n(38),f=n.n(m),P=n(48),y=n(19),g=n.n(y),_=function(e){return o.a.createElement("div",{className:g.a.point},o.a.createElement("span",null,e.pointTitle),o.a.createElement("img",{src:"https://www.clipartmax.com/png/middle/209-2095674_trash-bin-comments-waste.png",alt:"X",className:g.a.deleteImg,onClick:function(){var t=e.deletePoint;t(e.pointId)}}))},h=n(39),v=n.n(h),b=n(15),E=function(e){return o.a.createElement("div",{className:v.a.pointsList},o.a.createElement(b.a,{onDragEnd:function(t){var n=t.destination,a=e.updateListPoints;n&&a(function(e,t,n){var a=Array.from(e),o=a.splice(t,1),i=Object(P.a)(o,1)[0];return a.splice(n,0,i),a}(e.points,t.source.index,t.destination.index))}},o.a.createElement(b.c,{droppableId:"droppable"},function(t){return o.a.createElement("div",{ref:t.innerRef},e.points.map(function(t,n){return o.a.createElement(b.b,{key:t.id,draggableId:t.id,index:n},function(n){return o.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),o.a.createElement(_,{pointId:t.id,pointTitle:t.title,deletePoint:e.deletePoint,key:t.id}))})}),t.placeholder)})))},w=n(3),C=n.n(w),k=function(e){var t=e.pointsLength,n=e.clearPointsList;return o.a.createElement("div",{className:C.a.routeFooter},o.a.createElement("div",null,0===t?o.a.createElement("span",{className:C.a.pointsNotLength},"no current route..."):o.a.createElement("span",{className:C.a.pointsLength},t," current route")),o.a.createElement("div",{className:C.a.buttons},o.a.createElement("button",{className:0===t?C.a.clearCompletedDisabled:C.a.clearCompleted,onClick:n},"Clear list")))},L=n(7),M=n.n(L),I=function(e){var t=e.creatorPointsToEnter,n=e.creatorPointsToClick,a=e.changeInputValue,i=e.inputValue;return o.a.createElement("div",{className:M.a.wrapper},o.a.createElement("input",{className:M.a.input,onKeyPress:t,type:"text",onChange:a,value:i,placeholder:"enter the route..."}),o.a.createElement("button",{className:""===i?M.a.buttonDisabled:M.a.button,onClick:n},"Add Point"))},N=function(e){return o.a.createElement("div",null,function(){var t=e.myMap;e.points.map(function(e){return t.geoObjects.add(e.marker)})}())},V=function(e){var t=e.points,n=e.deletePoint,a=e.clearPointsList,i=e.creatorPointsToEnter,r=e.myMap,l=e.updateListPoints,c=e.inputValue,s=e.creatorPointsToClick,u=e.changeInputValue;return o.a.createElement("div",{className:f.a.list},o.a.createElement(I,{creatorPointsToEnter:i,creatorPointsToClick:s,changeInputValue:u,inputValue:c}),o.a.createElement(E,{points:t,deletePoint:n,updateListPoints:l}),o.a.createElement(N,{myMap:r,points:t}),o.a.createElement(k,{pointsLength:t.length,clearPointsList:a}))},j=n(44),O=n.n(j),T=n(45),x=n.n(T),R=function(e){var t=function(){var t=window.ymaps;(0,e.loadMap)(new t.Map("map",{center:[55.76,37.64],zoom:5,controls:[]}))};return o.a.createElement("div",null,o.a.createElement(O.a,{url:"https://api-maps.yandex.ru/2.1/?&lang=ru_RU",onLoad:function(){window.ymaps.ready(t)}}),o.a.createElement("div",{id:"map",className:x.a.containerMap}))},F=n(46),S=n.n(F),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={points:[],inputValue:""},n.addPointToState=function(e){return n.setState({points:[].concat(Object(l.a)(n.state.points),[e])},n.updatePolyline)},n.clearPointsList=function(){n.setState({points:[]}),n.deleteGeoObjects()},n.deletePoint=function(e){var t=n.state.points.filter(function(t){return t.id!==e});n.setState({points:t},n.updatePolyline),n.deleteGeoObjects()},n.deleteGeoObjects=function(){n.myMap.geoObjects.removeAll()},n.getId=function(){return n.state.points.reduce(function(e,t){return Math.max(e,t.id)},0)+1},n.changeInputValue=function(e){n.setState({inputValue:e.currentTarget.value})},n.clearInputValue=function(){return n.setState({inputValue:""})},n.createNewPoint=function(e){var t={title:n.state.inputValue,id:n.getId(),marker:n.createNewGeoObject(e)};n.addPointToState(t)},n.createNewGeoObject=function(){var e=n.state.inputValue,t=window.ymaps,a=n.myMap.getCenter(),o=new t.GeoObject({geometry:{type:"Point",coordinates:a},properties:{iconContent:e,balloonContent:e}},{preset:"islands#blackStretchyIcon",draggable:!0});return o.events.add("drag",n.updatePolyline),o},n.creatorPointsToEnter=function(e){var t=n.state.inputValue;if("Enter"===e.key){if(""===t)return;n.createNewPoint(),n.clearInputValue()}},n.creatorPointsToClick=function(){""!==n.state.inputValue&&(n.createNewPoint(),n.clearInputValue())},n.loadMap=function(e){return n.myMap=e},n.createPolyline=function(){var e=window.ymaps,t=n.state.points.map(function(e){return e.marker.geometry.getCoordinates()});n.polyline=new e.Polyline(t,{},{strokeColor:"#999",strokeWidth:3})},n.updatePolyline=function(){n.polyline&&n.deletePolyline(n.polyline),n.createPolyline(),n.addPolylineForMap(n.polyline)},n.deletePolyline=function(e){n.myMap.geoObjects.remove(e)},n.addPolylineForMap=function(e){n.myMap.geoObjects.add(e)},n.updateListPoints=function(e){var t=e.map(function(e){return{title:e.title,id:e.id,marker:e.marker}});n.setState({points:t},n.updatePolyline)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:S.a.main},o.a.createElement("div",null,o.a.createElement(V,{points:this.state.points,deletePoint:this.deletePoint,clearPointsList:this.clearPointsList,creatorPointsToEnter:this.creatorPointsToEnter,creatorPointsToClick:this.creatorPointsToClick,updateListPoints:this.updateListPoints,changeInputValue:this.changeInputValue,inputValue:this.state.inputValue,myMap:this.myMap})),o.a.createElement("div",null,o.a.createElement(R,{loadMap:this.loadMap})))}}]),t}(o.a.Component),A=function(){return o.a.createElement("div",null,o.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[51,1,2]]]);
//# sourceMappingURL=main.b3bffd5b.chunk.js.map